<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Free Code Fridays&#58; Layout and Content</title>
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Pixio is a team of educators and developers specializing in native mobile development and hardware communication. We have gained a reputation as one of the top mobile technology consulting services.">
    
    <link rel="canonical" href="http://www.pixio.com/blog/2015-09-21/layout-and-content/">

    <!--Icons-->
    <link rel="icon" sizes="64x64" href="/img/icons/favicon64.ico" />
    <link rel="icon" sizes="32x32" href="/img/icons/favicon32.ico" />
    <link rel="icon" sizes="16x16" href="/img/icons/favicon16.ico" />
    <link rel="apple-touch-icon" sizes="72x72" href="/img/icons/apple-touch-icon72.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/img/icons/apple-touch-icon114.png" />

    <!-- Custom CSS & Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/agency.css">

    <!-- Custom Fonts -->
    <link rel="stylesheet" href="/css/font-awesome/css/font-awesome.min.css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="/css/site.css?v=1">
    <link rel="stylesheet" href="/css/blog.css?v=1">
</head>


<body>
<div style="margin-top: 100px">
    



<!-- Navigation -->
<nav class="navbar navbar-default navbar-fixed-top navbar-shrink">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/">
                <img class="img img-responsive logo navbar-brand page-scroll" href="#page-top" src="/img/logo.png"/>
            </a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li class="hidden">
                    <a href="#page-top"></a>
                </li>
                <li>
                    <a class="page-scroll" href="/">Home</a>
                </li>
                <li>
                    <a class="page-scroll" href="/#contact">Contact</a>
                </li>
                                
                
                <li  class="active">
                    <a class="page-scroll" href="/blog">Blog</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>

</div>

<div class="container">
    <div class="page-content">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Free Code Fridays&#58; Layout and Content</h1>
    <p class="post-meta">
      Spencer Phippen â€¢ <span class="date">Sep 21, 2015</span>
    </p>
    
  </header>

  <article class="post-content">
    <p><em>Filling in for Daniel Blakemore this week is Spencer Phippen.</em></p>

<div style="text-align:center"><img src="/img/posts/measure.jpg" width="350" title="Image by Nicholas Eckhart [CC BY 2.0] via flickr (https://www.flickr.com/photos/fanofretail/14999278012)" /><br /><em>Okay, so we measure the view, then we lay it out... <a href="http://developer.android.com/reference/android/view/View.html#onMeasure(int, int)">wait, wrong platform</a></em></div>

<h2 id="layout">Layout</h2>

<p>View layout is a crucial part of iOS development. Not only is it essential for a good user experience, but it&#39;s maybe the only piece of functionality I feel like I can say with surety exists in literally every application in the App Store. Unfortunately, even slightly improper layout can be responsible for the most evident, frustrating, and inexplicable problems an iOS developer will have to fix.</p>

<p>One common source of layout problems is the status bar. In the the old days, the status bar was happy to sit at the top of the screen without mucking around in your application&#39;s content at all. However, when iOS 7 was released, the transparent status bar came into existence and developers everywhere frowned upon seeing the time and other icons rudely smothering their previously acceptable application UI. Now, this isn&#39;t to say the transparent status bar is <em>bad</em>. Developers/designers just have to be aware of it now and make conscious decisions about what content to put underneath it.</p>

<p>Even before transparency, the status bar was frustrating developers. Accommodating the status bar in all its forms, particularly the &quot;double tall&quot; ones that appear when an application is being used during a phone call or while Personal Hotspot is enabled, can be annoying. It doesn&#39;t take very much time looking at Stack Overflow questions about the status bar to find snippets of example code that hardcode the height to 20 points. Ew.</p>

<p>Fortunately, Apple really did give us the functionality we need to handle the status bar correctly when transparency hit in iOS 7. Today&#39;s first pod is fundamentally based on <a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/#//apple_ref/occ/instp/UIViewController/topLayoutGuide">one such API call</a>.</p>

<h3 id="pxbelowstatusbarview"><a href="https://github.com/pixio/PXBelowStatusBarView">PXBelowStatusBarView</a></h3>

<p>I&#39;ve seen the &quot;solid color under the status bar&quot; design pop up enough in our products recently for it to get its own pod. The code and use case is simple, so the description here will be short. Use it like this:</p>
<div class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="k">@implementation</span> <span class="nc">TopLevelViewController</span>
<span class="p">...</span>
<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="n">loadView</span> <span class="p">{</span>
  <span class="n">PXBelowStatusBarView</span><span class="o">*</span> <span class="n">view</span> <span class="o">=</span> <span class="p">[</span><span class="n">PXBelowStatusBarView</span> <span class="nf">new</span><span class="p">];</span>
  <span class="c1">// This color will display underneath the status bar,
</span>  <span class="c1">// where your view is not laid out.
</span>  <span class="p">[</span><span class="n">view</span> <span class="nf">setBackgroundColor</span><span class="p">:[</span><span class="n">UIColor</span> <span class="nf">blueColor</span><span class="p">]];</span>

  <span class="n">MyView</span><span class="o">*</span> <span class="n">realContent</span> <span class="o">=</span> <span class="p">[</span><span class="n">MyView</span> <span class="nf">new</span><span class="p">];</span>

  <span class="c1">// PXBelowStatusBarView will automatically lay realContent
</span>  <span class="c1">// out below the status bar
</span>  <span class="p">[</span><span class="n">view</span> <span class="nf">setContainedView</span><span class="p">:</span><span class="n">realContent</span><span class="p">];</span> 
  <span class="p">[</span><span class="n">self</span> <span class="nf">setView</span><span class="p">:</span><span class="n">view</span><span class="p">];</span>
<span class="p">}</span>
<span class="p">...</span>
<span class="k">@end</span>
</code></pre></div>
<p>It&#39;s worth noting that the layout for this class responds robustly in the presence of rotation and both the &quot;short&quot; and &quot;tall&quot; status bar styles (including, of course, transitions between the two) - it wouldn&#39;t be of much use if it didn&#39;t.</p>

<h2 id="content">Content</h2>

<p>Of course, you&#39;re not done as soon as you figure out your layout - you need to put the right content on screen as well. Recently, I was developing an application where one screen contained one day&#39;s worth of data, and the user could scroll as far as they wanted to the left or right to see data from the past or the future. Because the user could scroll infinitely in either direction, it wasn&#39;t acceptable to just load all the data and lay it out in a big scroll view. The view class that came out of that situation should allow you to solve the same problem if you find it in your applications.</p>

<h3 id="pxinfinitecontentview"><a href="https://github.com/pixio/PXInfiniteContentView">PXInfiniteContentView</a></h3>

<p>This pod, <code>PXInfiniteContentView</code>, provides a simple interface for lazily loading and displaying data in an infinite sequence, one screen at a time.</p>

<p>Conceptually, this class allows the user to scroll infinitely far in either (left or right) direction. In practice, an instance contains 3 subviews: the <code>leftView</code>, the <code>centerView</code>, and the <code>rightView</code>. The <code>centerView</code> always contains the &quot;main&quot; content - when the user is not scrolling, the <code>centerView</code> is the one being displayed. After the user scrolls in either direction, the class juggles the views around internally to make the new view (whether you scrolled to the right or the left) the new <code>centerView</code>. Luckily, you don&#39;t even need to know all that to use the class properly. Here&#39;s a short example:</p>
<div class="highlight"><pre><code class="language-objc" data-lang="objc"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="n">loadView</span> <span class="p">{</span>
  <span class="n">PXInfiniteContentView</span><span class="o">*</span> <span class="n">content</span> <span class="o">=</span> <span class="p">[[</span><span class="n">PXInfiniteContentView</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithViewClass</span><span class="p">:[</span><span class="n">UILabel</span> <span class="nf">class</span><span class="p">]];</span>
  <span class="p">[</span><span class="n">content</span> <span class="nf">setDelegate</span><span class="p">:</span><span class="n">self</span><span class="p">];</span>
  <span class="p">[</span><span class="n">self</span> <span class="nf">setView</span><span class="p">:</span><span class="n">content</span><span class="p">];</span>
<span class="p">}</span>
<span class="p">...</span>
<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="n">infiniteContentView</span><span class="o">:</span><span class="p">(</span><span class="n">PXInfiniteContentView</span><span class="o">*</span><span class="p">)</span><span class="n">infiniteContentView</span> <span class="n">willShowView</span><span class="o">:</span><span class="p">(</span><span class="n">UILabel</span><span class="o">*</span><span class="p">)</span><span class="n">view</span> <span class="n">forIndex</span><span class="o">:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">index</span> <span class="p">{</span>
  <span class="c1">// This delegate method is called whenever a view is going to appear. Use this method to configure the layout and content of the view.
</span>  <span class="c1">// The index passed is the offset from the first view (index 0) the view that's appearing has.
</span>  <span class="c1">// e.g. the first view is index 0, the view just to the left will be passed to this method with
</span>  <span class="c1">// index -1 when it appears for the first time, just to the right is 1, to the left of -1 is -2, etc.
</span>  <span class="p">[</span><span class="n">view</span> <span class="nf">setText</span><span class="p">:[</span><span class="n">NSString</span> <span class="nf">stringWithFormat</span><span class="p">:</span><span class="s">@"Displaying for index: %d"</span><span class="p">,</span> <span class="n">index</span><span class="p">]];</span>
<span class="p">}</span>
</code></pre></div>
<p>Because the three backing views are separate but each get repeatedly reused to display (presumably) different information, it can be convenient to configure all three views at the same time with the same method calls. This is what motivated the <code>PXMultiForwarder</code> from last weeks post. In fact, the example project for this pod uses <code>PXMultiForwarder</code> in basically the <a href="https://github.com/pixio/PXInfiniteContentView/blob/master/Example/PXInfiniteContentView/PXViewController.m#L51">same way</a> it was used in the original <code>PXInfiniteContentView</code> application.</p>

<p>Spin up the <a href="https://github.com/pixio/PXInfiniteContentView/tree/master/Example">example project</a> if you want to see it in action.</p>

<h2 id="the-return">The Return</h2>

<p>Next Friday, Daniel Blakemore will be back to show us whatever it is he&#39;s cooked up since we last saw him a few weeks ago.</p>

<hr>

<p><em>Credit for these and future code releases does not rest solely on the shoulders of Spencer Phippen <em>or</em> Daniel Blakemore. The brains of multiple Pixions were involved in the creation of these components. <a href="https://github.com/calvinkern">Calvin Kern</a> wrote many example projects for the CococaPods that have and will be released. <a href="https://github.com/kwongius">Kevin Wong</a> fixed lots of bugs and edge cases beyond the pods he wrote himself. Others, like <a href="https://github.com/cobbal">Andrew Cobb</a> provided code and ideas during the creation of these resources.</em></p>

  </article>

</div>

    </div>
</div>

<hr style="margin:0px;">
    <footer><div class="container">
  <div class="row">
    <div class="col-md-3">
      <span class="copyright">Copyright &copy; Pixio 2016</span>
    </div>

    <div class="col-md-6"></div>

    <div class="col-md-3">
      <ul class="list-inline social-buttons">
        
        <li><a href="https://github.com/pixio"><i class="fa fa-github"></i></a></li>
        
        <li><a href="https://www.facebook.com/pixioOne"><i class="fa fa-facebook"></i></a></li>
        
        <li><a href="https://twitter.com/pixiotech"><i class="fa fa-twitter"></i></a></li>
        
        <li><a href="https://www.linkedin.com/company/pixio-llc"><i class="fa fa-linkedin"></i></a></li>
        
        <li><a href="http://instagram.com/pixiollc"><i class="fa fa-instagram"></i></a></li>
        
      </ul>
    </div>
    
  </div>
</div>
</footer>

    <!-- jQuery Version 1.11.0 -->
<script src="/js/jquery-1.11.0.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Plugin JavaScript -->
<script src="/js/jquery.easing.min.js"></script>
<script src="/js/classie.js"></script>

<!-- Contact Form JavaScript -->
<script src="/js/jqBootstrapValidation.js"></script>
<script src="/js/contact_me.js"></script>
<script src="/js/verify.notify.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/agency.js"></script>

<!-- Custom -->

<!-- Google Analytics -->


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-40963718-1', 'auto');
    ga('send', 'pageview');
        </script>


</body>

</html>
